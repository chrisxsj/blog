# 计算字符占用的字节长度

字符（character）占用的字节（bytes）长度

create table test_bytes(id int,name varchar(10));
insert into test_bytes values (1,'中国');

select pg_size_pretty(pg_relation_size('test_bytes'));  --最小单位page，最少占用一个page 8192bytes

highgo=# select pg_size_pretty(pg_relation_size('test_bytes'));
 pg_size_pretty
----------------
 8192 bytes
(1 row)


select id,name,octet_length(name),pg_column_size(name) from test_bytes; --octet_length计算字节数，octet_length计算占用的字节数,通常大于octet_length。pg_column_size 与 octet_length 的区别是，前者计算的是压缩后的值。

highgo=# select id,name,octet_length(name),pg_column_size(name) from test_bytes;
 id |  name  | octet_length | pg_column_size
----+--------+--------------+----------------
  1 | 中国 |            6 |              7
(1 row)


ref [https://postgres.fun/20130227215522.html](https://postgres.fun/20130227215522.html)